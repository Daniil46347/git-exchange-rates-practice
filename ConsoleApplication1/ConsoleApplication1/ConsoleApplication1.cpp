#include <iostream>
#include <cmath>

using namespace std;

int main() {
    setlocale(LC_ALL, "Russian");
    cout << "********************************************************************************" << endl;
    cout << "*Вычисление длины средней линии трапеции, заданной координатами четырёх вершин.*" << endl;
    cout << "********************************************************************************" << endl;
    double x1, y1, x2, y2, x3, y3, x4, y4;
    cout << "Введите координаты первой вершины трапеции: " << endl;
    cin >> x1 >> y1;
    cout << "Введите координаты второй вершины трапеции: " << endl;
    cin >> x2 >> y2;
    cout << "Введите координаты третьей вершины трапеции: " << endl;
    cin >> x3 >> y3;
    cout << "Введите координаты четвёртой вершины трапеции: " << endl;
    cin >> x4 >> y4;

    // Проверка на существование трапеции
    if (y1 != y2 || y3 != y4 || (x1 == x2 && x2 == x3 && x3 == x4) || (x1 - x2) * (y3 - y4) == (x3 - x4) * (y1 - y2)) {
        cout << " Ошибка ввода входных данных" << endl;
        cout << "Четырёхугольник с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << ");(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ") " << endl;
        cout << " не является трапецией" << endl;
        return 0;
    }

    // Вычисление длины средней линии
    double base1 = abs(x2 - x1);
    double base2 = abs(x4 - x3);
    double height = abs(y3 - y2);
    double midline = (base1 + base2) / 2;

    cout << " Трапеция с вершинами в точках (" << x1 << ", " << y1 << "); (" << x2 << ", " << y2 << ");(" << x3 << ", " << y3 << "); (" << x4 << ", " << y4 << ") ." << endl;
    cout << " Длина средней линии равна " << midline << endl;

    return 0;
}